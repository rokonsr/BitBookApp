@using BitBookApp.Models
@model IEnumerable<BitBookApp.Models.UserProfile>

@{
    ViewBag.Title = "SearchFreind";
    Layout = "~/Views/Shared/_LayoutBb.cshtml";
    List<ProfileImage> profileImages = ViewBag.ProfilePicture;
}


<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.UserId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Gender)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Contact)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.City)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Country)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.AreaOfInterest)
        </th>
        <th>Picture</th>
        <th>Friend Request</th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.UserId)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Gender)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Contact)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.City)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Country)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.AreaOfInterest)
        </td>
        <td>
            @foreach (var item1 in profileImages)
            {
                if (item1.UserId == item.UserId)
                {
                    <img src="data:image;base64,@System.Convert.ToBase64String(item1.UserImage)" width="100" height="100" style="border-radius: 5px;"/>
                }
            }
        </td>
        <td>
            @Html.ActionLink("Add to Friend", "SendFriendRequest", "Profile", new {id = item.UserId}, null)
        </td>
    </tr>
}

</table>
